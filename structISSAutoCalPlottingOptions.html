<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ISSSort: ISSAutoCalPlottingOptions Struct Reference</title>
<link rel="icon" href=".isssort_logo.png" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src=".isssort_logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">ISSSort
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structISSAutoCalPlottingOptions-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">ISSAutoCalPlottingOptions Struct Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Calibrates alpha spectra in the ISS Liverpool array.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="AutoCalibrator_8hh_source.html">AutoCalibrator.hh</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a937035828198558edfd96e2009b3a3a3" id="r_a937035828198558edfd96e2009b3a3a3"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a937035828198558edfd96e2009b3a3a3">my_max_amp</a></td></tr>
<tr class="memdesc:a937035828198558edfd96e2009b3a3a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores the maximum amplitude of peaks for plotting purposes.  <br /></td></tr>
<tr class="separator:a937035828198558edfd96e2009b3a3a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c041e139a216abda658f19a23ea1aa4" id="r_a8c041e139a216abda658f19a23ea1aa4"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8c041e139a216abda658f19a23ea1aa4">my_threshold</a></td></tr>
<tr class="memdesc:a8c041e139a216abda658f19a23ea1aa4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores the value of a count threshold for each alpha-particle spectrum.  <br /></td></tr>
<tr class="separator:a8c041e139a216abda658f19a23ea1aa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Calibrates alpha spectra in the ISS Liverpool array. </p>
<p>The <a class="el" href="classISSAutoCalibrator.html">ISSAutoCalibrator</a> class takes a particular set of alpha data runs and tries to create a calibration file for the use of the <a class="el" href="classISSCalibration.html" title="A class to read in the calibration file in ROOT&#39;s TConfig format.">ISSCalibration</a> class. This can be used to align all of your detectors in energy when sorting for other physics reactions. The operation of this class is primarily laid out in the <a class="el" href="classISSAutoCalibrator.html#a5a5073d92318d1da67c2e8ee1450fd5f" title="The heart of this class, moving from alpha spectra to a calibration.">ISSAutoCalibrator::DoFits()</a> function, which is outlined below.</p>
<p>The first stage is where it tries to find the peaks in the spectrum in the <a class="el" href="classISSAutoCalibrator.html#a357e49ff75cb96afb3856722f95096ce" title="Finds the desired number of alpha peaks.">ISSAutoCalibrator::FindPeaks()</a> function. This is a rather crude process at the moment, and it will find many things that could be a peak, whilst rejecting any noise. However, it knows how many peaks it expects to see, so it will try to reduce the number of possible peaks to the actual number of peaks. It is also able to deal with one fewer than expected peaks, assuming that the missing peak is the last one. If the debug mode is on, you can see all of the possible peaks it finds, as well as the final number of peaks it thinks there are. If this process doesn't work for any channels, then initial guesses for the centroids of each peak can be fed manually into the autocal file. Hopefully this won't be too many!</p>
<p>The next stage is where it tries to fit the spectrum with the desired fit shape, which can also be specified in the autocal file (default is Gaussian because it's quicker and mostly gets the job done). These fit functions are defined in the <a class="el" href="FitFunctions_8hh.html">FitFunctions.hh</a> file. If any fits fail or if any parameters are at a limit, then a warning message will be printed to the console. The results of this fit can be found in the printed fitted spectra, and the corresponding linear calibration fit that is produced when creating the calibration file.</p>
<p><b>Things to bear in mind</b></p><ul>
<li>Not all fits that converge are good fits! Make sure you check every fit that is spat out by this!</li>
<li>Not all fits that fail to converge are necessarily useless: it might be a parameter that is failing to converge on a particular value. This is bad if it's the centroid (what you want), but not as bad if it's e.g. the amplitude of the peak.</li>
<li>You don't have to do every single fit every time it fails. You can turn on manual fits only, and the code will only fit peaks with values straying from the default in the autocal file. Very useful if you have a few channels you want to work on.</li>
<li>If, for whatever reason, you change this code, don't assume that your previous good fits will work again! Any changes to this code will require a checking of your previously good fits. The code is designed to be used through the autocal file for the majority of cases!</li>
<li>The file produced by this code is <b>NOT</b> using the new calibration that you are producing. It will be using whatever you feed iss_sort at the time. You will have to resort all the data with the new calibration if you want to see how it works.</li>
<li>Patrick developed most of this, so direct all problems to him. It's probably his fault!</li>
</ul>
<p>Have fun calibrating all your channels!! </p>

<p class="definition">Definition at line <a class="el" href="AutoCalibrator_8hh_source.html#l00074">74</a> of file <a class="el" href="AutoCalibrator_8hh_source.html">AutoCalibrator.hh</a>.</p>
</div><h2 class="groupheader">Member Data Documentation</h2>
<a id="a937035828198558edfd96e2009b3a3a3" name="a937035828198558edfd96e2009b3a3a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a937035828198558edfd96e2009b3a3a3">&#9670;&#160;</a></span>my_max_amp</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double ISSAutoCalPlottingOptions::my_max_amp</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stores the maximum amplitude of peaks for plotting purposes. </p>

<p class="definition">Definition at line <a class="el" href="AutoCalibrator_8hh_source.html#l00076">76</a> of file <a class="el" href="AutoCalibrator_8hh_source.html">AutoCalibrator.hh</a>.</p>

</div>
</div>
<a id="a8c041e139a216abda658f19a23ea1aa4" name="a8c041e139a216abda658f19a23ea1aa4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c041e139a216abda658f19a23ea1aa4">&#9670;&#160;</a></span>my_threshold</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double ISSAutoCalPlottingOptions::my_threshold</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stores the value of a count threshold for each alpha-particle spectrum. </p>

<p class="definition">Definition at line <a class="el" href="AutoCalibrator_8hh_source.html#l00077">77</a> of file <a class="el" href="AutoCalibrator_8hh_source.html">AutoCalibrator.hh</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>include/<a class="el" href="AutoCalibrator_8hh_source.html">AutoCalibrator.hh</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
